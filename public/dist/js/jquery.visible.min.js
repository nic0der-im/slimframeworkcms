!function(x){var A=x(window);x.fn.visible=function(t,o,e,i){if(!(this.length<1)){e=e||"both";var r=1<this.length?this.eq(0):this,f=null!=i,n=f?x(i):A,l=f?n.position():0,h=r.get(0),g=n.outerWidth(),u=n.outerHeight(),p=!0!==o||h.offsetWidth*h.offsetHeight;if("function"==typeof h.getBoundingClientRect){var s=h.getBoundingClientRect(),b=f?0<=s.top-l.top&&s.top<u+l.top:0<=s.top&&s.top<u,a=f?0<s.bottom-l.top&&s.bottom<=u+l.top:0<s.bottom&&s.bottom<=u,c=f?0<=s.left-l.left&&s.left<g+l.left:0<=s.left&&s.left<g,v=f?0<s.right-l.left&&s.right<g+l.left:0<s.right&&s.right<=g,d=t?b||a:b&&a,m=t?c||v:c&&v;d=s.top<0&&s.bottom>u||d,m=s.left<0&&s.right>g||m;if("both"===e)return p&&d&&m;if("vertical"===e)return p&&d;if("horizontal"===e)return p&&m}else{var w=f?0:l,y=w+u,z=n.scrollLeft(),B=z+g,C=r.position(),H=C.top,R=H+r.height(),W=C.left,j=W+r.width(),q=!0===t?R:H,L=!0===t?H:R,Q=!0===t?j:W,k=!0===t?W:j;if("both"===e)return!!p&&L<=y&&w<=q&&k<=B&&z<=Q;if("vertical"===e)return!!p&&L<=y&&w<=q;if("horizontal"===e)return!!p&&k<=B&&z<=Q}}}}(jQuery);